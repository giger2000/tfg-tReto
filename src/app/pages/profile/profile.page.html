<ion-header>

  <ion-toolbar>
	<ion-buttons slot="start">
          
		<ion-menu-button></ion-menu-button>
  </ion-buttons>
	<ion-title>Perfil </ion-title>
	
  </ion-toolbar>
</ion-header>

<ion-content class="padding">
	

<div *ngIf="auth.user$ | async as user; then authenticated else guest">
	
	<ng-template #guest>
		<h3> Bienvenido, INVITADO</h3>
		<p> Deberías identificarte para empezar...</p>
		<ion-img src='./assets/images/profile/noFoto.png'></ion-img>
	</ng-template>

</div> 
	
	<ng-template #authenticated>
		<div *ngIf="auth.user$ | async as user ">
			<div id="profile-bg"></div>
			<div id="content">
			  <div id="profile-info">
				<img id="profile-image" [src]="user.photoURL">
				<h3 id="profile-name">{{user.firstName}}</h3>
				
			  </div>
	<ion-list>
		<ion-item>
				
			<ion-label><h4>Últimas actividades</h4></ion-label>
			
		</ion-item>
			  <ion-item-group *ngFor="let actividad of actividad$ | async; let i = index">
				
				
			<!-- contador de actividades  -->
			<!-- Actividades with badge on left and right -->
			
				<ion-item-divider sticky>
					<ion-avatar slot="start">
					   
						<ion-img *ngIf="actividad.type==='Running'" src="./../../../assets/images/actividades/avatar/runner.jpg"></ion-img> 
						<ion-img *ngIf="actividad.type==='Ride'" src="./../../../assets/images/actividades/avatar/btt.jpg"></ion-img> 
						<ion-img *ngIf="actividad.type==='Spinning'" src="./../../../assets/images/actividades/avatar/spinning.jpg"></ion-img> 
						<ion-img *ngIf="actividad.type==='Cinta'" src="./../../../assets/images/actividades/avatar/cinta.jpg"></ion-img> 
						<!-- <ion-img *ngIf="actividad.type==='Ride'" src="./../../../assets/images/actividades/avatar/road.jpg"></ion-img>  -->
					</ion-avatar>
				   
				  
						  <ion-grid>
					
						  <ion-row>
							  <ion-col align-self-start>
								<ion-label><h2>{{actividad.name}}</h2></ion-label>
							   </ion-col>
							  
							  <ion-col align-self-end>
								  <!-- TODO PONER FECHA  -->
								<!-- <ion-label><h3>{{actividad.start_date | date: 'mediumDate' }}</h3></ion-label> -->
								 
							  </ion-col>
							 
							</ion-row>
							<ion-row>
		
								<ion-col align-self-end>
								  <ion-label>
									<ion-icon name="git-network"></ion-icon>
									
									<small> {{ actividad.distance/1000 | number:'1.2-2':'es' }}<abbr class="unit" title="kilómetros"> km.</abbr></small>
									 </ion-label>
								</ion-col>
	  
								<ion-col align-self-start>
									<ion-label><ion-icon name="pulse"></ion-icon> <small>{{actividad.total_elevation_gain | number:'1.2-2':'es'}}
										<abbr class="unit" title="metros"> m.</abbr></small>
									</ion-label>
								   </ion-col>
	  
								<ion-col align-self-end>
									<ion-label><ion-icon name="timer"></ion-icon><small>{{actividad.moving_time /3600 | number:'1.2-2':'es'}}<abbr class="unit" title="horas"> h.</abbr></small></ion-label>
								   </ion-col>
							   
							  </ion-row>
						  </ion-grid>
						
				
				  </ion-item-divider>
				
					
			</ion-item-group>
		</ion-list>

		
		</div>
		</div>
	
		
	</ng-template>



</ion-content>
